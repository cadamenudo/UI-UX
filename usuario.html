<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Perfil de Usuario</title>
  <link rel="stylesheet" href="https://cadamenudo.github.io/UI-UX/css-fonts.css"/>
  <style>
    body {
      font-family: 'Greycliff CF', sans-serif;
      background: #FAFBFF;
      margin: 0;
      padding: 1.5rem;
      color: #111827;
    }

    .perfil-container {
      max-width: 400px;
      margin: auto;
      background: #fff;
      padding: 2rem;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    }

    .avatar {
      text-align: center;
      margin-bottom: 1.5rem;
      position: relative;
    }

    .avatar img {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
    }

    .icono-cambiar {
      position: absolute;
      bottom: 6px;
      right: calc(50% - 46px);
      background: #fff;
      border-radius: 50%;
      padding: 4px;
      width: 28px;
      height: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
      cursor: pointer;
    }

    .icono-cambiar img {
      width: 16px;
      height: 16px;
    }

    .tabs {
      display: flex;
      border-bottom: 1px solid #E5E7EB;
      margin-bottom: 1rem;
    }

    .tab-button {
      flex: 1;
      padding: 0.75rem;
      background: none;
      border: none;
      border-bottom: 2px solid transparent;
      font-size: 1rem;
      cursor: pointer;
      transition: border-color 0.3s;
    }

    .tab-button.active {
      border-color: #3956E8;
      font-weight: bold;
      color: #3956E8;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .form-group {
      margin-bottom: 1rem;
    }

    label {
      display: block;
      font-size: 0.85rem;
      margin-bottom: 0.3rem;
      color: #374151;
    }

    input {
      width: 100%;
      padding: 0.7rem;
      border: 1px solid #E5E7EB;
      border-radius: 12px;
      font-size: 1rem;
      box-sizing: border-box;
    }

    .botones {
      display: flex;
      justify-content: space-between;
      margin-top: 1.5rem;
    }

    .botones button {
      flex: 1;
      padding: 0.75rem;
      border: none;
      border-radius: 12px;
      font-size: 1rem;
      cursor: pointer;
    }

    .btn-cancelar {
      background: #F8F6FF;
      color: #7459D9;
      margin-right: 0.5rem;
    }

    .btn-guardar {
      background: #3956E8;
      color: #fff;
      margin-left: 0.5rem;
    }
.password-container {
  position: 1rem;
}

.password-container input {
  width: 100%;
  padding: 0.75rem;
  padding-right: 2.5rem; /* espacio para √≠cono */
  height: 48px;
  font-size: 1rem;
  border: 1px solid #E5E7EB;
  border-radius: 12px;
  box-sizing: border-box;
}

    
.input-wrapper {
  position: relative;
  display: flex;
  align-items: center;
}

.input-wrapper input {
  width: 100%;
  padding: 0.75rem;
  padding-right: 2.5rem;
  height: 48px;
  font-size: 1rem;
  border: 1px solid #E5E7EB;
  border-radius: 12px;
  box-sizing: border-box;
}
.toggle-password {
  position: absolute;
  top: 50%;
  right: 1rem;
  transform: translateY(-50%);
  width: 20px;
  height: 20px;
  object-fit: contain;
  cursor: pointer;
  opacity: 0.4;
}

    .modal {
  display: none;
  position: fixed;
  z-index: 999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  justify-content: center;
  align-items: center;
}
    .modal.show {
  display: flex;
}

.modal-content {
  background: white;
  border-radius: 16px;
  padding: 2rem;
  width: 90%;
  max-width: 360px;
  text-align: center;
}

.modal-content h3 {
  margin-top: 0;
  font-size: 1.25rem;
}

.modal-content button {
  display: block;
  width: 100%;
  margin: 0.5rem 0;
  padding: 0.75rem;
  font-size: 1rem;
  border: none;
  border-radius: 12px;
  cursor: pointer;
}

.modal-content .cancelar {
  background: #F8F6FF;
  color: #7459D9;
}

.modal-content .borrar {
  background: #FEE2E2;
  color: #B91C1C;
}

    input {
  height: 48px;
  padding: 0.75rem;
   padding-right: 2.5rem; /* <-- AGREGAR ESTO */
}
input.error {
  border: 1px solid #E53E3E !important;
  background-color: #FFF5F5;
}

.mensaje-error {
  color: #E53E3E;
  font-size: 0.8rem;
  margin-top: 4px;
  display: block;
}
    
#modalConfirmacion .modal-content {
  text-align: center;
}

#modalConfirmacion .modal-content h3 {
  color: #22C55E; /* verde confirmaci√≥n */
  font-size: 1.25rem;
  margin-bottom: 0.5rem;
}

#modalConfirmacion .modal-content p {
  font-size: 0.95rem;
  color: #374151;
  margin-bottom: 1rem;
}
.seccion-suscripcion {
  margin-top: 2rem;
  padding: 1.5rem;
  background: #f8f9ff;
  border-radius: 16px;
  box-shadow: 0 0 0 1px #e2e8f0;
  font-family: 'Greycliff CF', sans-serif;
}

.btn-cancelar-suscripcion {
  margin-top: 1rem;
  background: #fff;
  color: #594AE2;
  border: 2px solid #594AE2;
  padding: 0.6rem 1.4rem;
  border-radius: 12px;
  cursor: pointer;
  transition: background 0.3s ease;
  font-weight: bold;
}

.btn-cancelar-suscripcion:hover {
  background: #ede9fe;
}

/* Modal estilos */
.modal {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  z-index: 1000;
  justify-content: center;
  align-items: center;
}

.modal.show {
  display: flex;
}

.modal-contenido {
  background: #fff;
  padding: 2rem;
  border-radius: 16px;
  max-width: 400px;
  text-align: center;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.botones-modal {
  margin-top: 1.5rem;
  display: flex;
  justify-content: space-evenly;
  gap: 1rem;
}

.botones-modal button {
  padding: 0.6rem 1.4rem;
  border-radius: 8px;
  font-weight: bold;
  border: none;
  cursor: pointer;
  transition: 0.3s;
}

.btn-no {
  background: white;
  color: #594AE2;
  border: 2px solid #594AE2;
}

.btn-no:hover {
  background: #f3e8ff;
}

.btn-si {
  background: #000;
  color: white;
}

.btn-si:hover {
  background: #222;
}
.btn-cancelar-suscripcion {
  background-color: #7459D9;
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 8px;
  font-weight: 500;
  font-size: 0.95rem;
  cursor: pointer;
  transition: background 0.3s ease;
}

.btn-cancelar-suscripcion:hover {
  background-color: #5e47b5;
}

.btn-cambiar-metodo {
  margin-top: 0.5rem;
  background-color: transparent;
  border: 1px solid #ccc;
  padding: 6px 12px;
  border-radius: 6px;
  cursor: pointer;
}

  </style>
</head>
<body>
  <div class="perfil-container">
    <div class="avatar">
      <img src="https://randomuser.me/api/portraits/men/75.jpg" alt="Avatar del usuario" />
      <div class="icono-cambiar" onclick="abrirModalFoto()">
        <img src="https://cdn-icons-png.flaticon.com/512/1827/1827933.png" alt="Editar avatar" />
      </div>

    </div>

<div class="tabs">
  <button class="tab-button active" onclick="openTab(event, 'datos')">Datos</button>
  <button class="tab-button" onclick="openTab(event, 'contrasena')">Contrase√±a</button>
  <button class="tab-button" onclick="openTab(event, 'pago')">Subscripci√≥n</button>
</div>

<div id="datos" class="tab-content" style="display: block;">
  <div class="form-group">
    <label for="nombre">Nombre completo</label>
    <input type="text" id="nombre" />
    <span class="mensaje-error" id="error-nombre" style="display:none;">Este campo es obligatorio.</span>
  </div>

  <div class="form-group">
    <label for="email">Correo electr√≥nico</label>
    <input type="email" id="email" />
    <span class="mensaje-error" id="error-email" style="display:none;">Este campo es obligatorio.</span>
  </div>

  <div class="form-group">
    <label for="telefono">Tel√©fono</label>
    <input type="tel" id="telefono" />
    <span class="mensaje-error" id="error-telefono" style="display:none;">Este campo es obligatorio.</span>
  </div>

  <div class="botones">
    <button class="btn-cancelar" onclick="window.history.back()">Cancelar</button>
    <button class="btn-guardar" onclick="guardarPerfil()">Guardar</button>
  </div>
</div>

<div id="contrasena" class="tab-content" style="display: none;">
  <div class="form-group password-container">
    <label for="contrasena-actual">Contrase√±a actual</label>
    <div class="input-wrapper">
      <input type="password" id="contrasena-actual" />
      <img src="https://cdn-icons-png.flaticon.com/512/709/709612.png" alt="Ver"
           class="toggle-password"
           onclick="togglePassword('contrasena-actual')" />
    </div>
  </div>

  <div class="form-group password-container">
    <label for="nueva-contrasena">Nueva contrase√±a</label>
    <div class="input-wrapper">
      <input type="password" id="nueva-contrasena" />
      <img src="https://cdn-icons-png.flaticon.com/512/709/709612.png" alt="Ver"
           class="toggle-password"
           onclick="togglePassword('nueva-contrasena')" />
    </div>
  </div>

  <div class="form-group password-container">
    <label for="confirmar-contrasena">Confirmar nueva contrase√±a</label>
    <div class="input-wrapper">
      <input type="password" id="confirmar-contrasena" />
      <img src="https://cdn-icons-png.flaticon.com/512/709/709612.png" alt="Ver"
           class="toggle-password"
           onclick="togglePassword('confirmar-contrasena')" />
    </div>
    <span id="error-match" class="mensaje-error" style="display: none;">
      Las contrase√±as no coinciden.
    </span>
  </div>

  <div class="botones">
    <button class="btn-cancelar" onclick="window.history.back()">Cancelar</button>
    <button class="btn-guardar" onclick="cambiarContrasena()">Cambiar</button>
  </div>
</div>

<div id="pago" class="tab-content" style="display: none;">
  <h3>Informaci√≥n de Suscripci√≥n</h3>
  <div class="seccion-suscripcion">
    <p><strong>Plan:</strong> Plan mensual</p>
    <p><strong>Inicio:</strong> 2 de agosto de 2025</p>
    <p><strong>Pr√≥ximo cobro:</strong> 2 de septiembre de 2025</p>
    <p><strong>Monto:</strong> $3.99</p>
    <p><strong>M√©todo de pago:</strong> Visa **** 1234</p>
    
        <!-- ‚¨áÔ∏è Aqu√≠ insertas el bot√≥n para cambiar m√©todo de pago -->
    <button class="btn-cambiar-metodo" onclick="abrirModalMetodoPago()">
      Cambiar m√©todo de pago
    </button>
    
    <p><strong>Estado:</strong> Activo ‚úÖ</p>
  </div>

  <div style="text-align: center; margin-top: 1.5rem;">
    <button class="btn-cancelar-suscripcion" onclick="abrirModalCancelar()">
      Cancelar suscripci√≥n
    </button>
  </div>

  <p style="text-align: center; font-size: 0.85rem; color: #64748B; margin-top: 0.75rem;">
    La cancelaci√≥n ser√° efectiva al final del per√≠odo actual. No se realizan reembolsos parciales.
  </p>
</div>

    <!-- MODAL PARA EDITAR FOTO DE PERFIL -->
<div id="modalFoto" class="modal">
  <div class="modal-content">
    <h3>Editar foto de perfil</h3>
    <button onclick="subirFoto()">üì§ Subir nueva foto</button>
    <button class="borrar" onclick="eliminarFoto()">üóëÔ∏è Eliminar foto actual</button>
    <button class="cancelar" onclick="cerrarModalFoto()">‚ùå Cancelar</button>
  </div>
</div>

        <!-- MODAL PARA CONFIRMACION -->
    
<div id="modalConfirmacion" class="modal">
  <div class="modal-content">
    <h3 id="modalConfirmacionTitulo">‚úÖ Confirmaci√≥n</h3>
    <p id="modalConfirmacionTexto">La acci√≥n se ha realizado correctamente.</p>
    <button class="btn-guardar" onclick="cerrarModalConfirmacion()">Aceptar</button>
  </div>
</div>

<!-- Modal para confirmar cancelaci√≥n -->
<div id="modalCancelarSuscripcion" class="modal">
  <div class="modal-contenido">
    <h3>¬øDeseas cancelar tu suscripci√≥n?</h3>
    <p>Tu acceso continuar√° hasta el final del per√≠odo pagado. Esta acci√≥n no se puede deshacer.</p>
    <div class="modal-botones">
      <button onclick="cerrarModalCancelar()" class="btn-cancelar">No</button>
      <button onclick="confirmarCancelacion()" class="btn-confirmar">S√≠, cancelar</button>
    </div>
  </div>
</div>

<!-- Modal para cambiar metodo de pago -->
    <div id="modalMetodoPago" class="modal" style="display: none;">
  <div class="modal-contenido">
    <span class="cerrar" onclick="cerrarModalMetodoPago()">√ó</span>
    <h3>Cambiar m√©todo de pago</h3>

    <div class="form-group">
      <label for="nuevo-tipo">Tipo de tarjeta</label>
      <select id="nuevo-tipo">
        <option value="visa">Visa</option>
        <option value="mastercard">Mastercard</option>
        <option value="amex">American Express</option>
      </select>
    </div>

    <div class="form-group">
      <label for="nuevo-numero">N√∫mero de tarjeta</label>
      <input type="text" id="nuevo-numero" maxlength="19" placeholder="**** **** **** 5678" />
    </div>

    <div class="form-group">
      <label for="nuevo-expira">Fecha de expiraci√≥n</label>
      <input type="text" id="nuevo-expira" placeholder="MM/AA" />
    </div>

    <div class="form-group">
      <label for="nuevo-cvc">CVC</label>
      <input type="text" id="nuevo-cvc" maxlength="4" placeholder="123" />
    </div>

    <div class="botones">
      <button class="btn-cancelar" onclick="cerrarModalMetodoPago()">Cancelar</button>
      <button class="btn-guardar" onclick="guardarMetodoPago()">Guardar</button>
    </div>
  </div>
</div>

  <script>
function openTab(evt, tabName) {
  // Ocultar todos los contenidos
  document.querySelectorAll(".tab-content").forEach(tab => {
    tab.style.display = "none";
    tab.classList.remove("active");
  });

  // Remover clase activa de todos los botones
  document.querySelectorAll(".tab-button").forEach(btn => {
    btn.classList.remove("active");
  });

  // Mostrar el tab seleccionado
  const selectedTab = document.getElementById(tabName);
  selectedTab.style.display = "block";
  selectedTab.classList.add("active");

  // Marcar el bot√≥n como activo
  evt.currentTarget.classList.add("active");
}


function guardarPerfil() {
  const nombre = document.getElementById('nombre');
  const email = document.getElementById('email');
  const telefono = document.getElementById('telefono');

  const errorNombre = document.getElementById('error-nombre');
  const errorEmail = document.getElementById('error-email');
  const errorTelefono = document.getElementById('error-telefono');

  let error = false;

  [nombre, email, telefono].forEach(input => input.classList.remove('error'));
  [errorNombre, errorEmail, errorTelefono].forEach(span => span.style.display = 'none');

  if (!nombre.value.trim()) {
    nombre.classList.add('error');
    errorNombre.style.display = 'block';
    error = true;
  }
  if (!email.value.trim()) {
    email.classList.add('error');
    errorEmail.style.display = 'block';
    error = true;
  }
  if (!telefono.value.trim()) {
    telefono.classList.add('error');
    errorTelefono.style.display = 'block';
    error = true;
  }

  if (error) return;

  mostrarModalConfirmacion('datos');  // ‚úÖ nuevo
}

    function cambiarContrasena() {
      const actual = document.getElementById('contrasena-actual').value;
      const nueva = document.getElementById('nueva-contrasena').value;
      const confirmar = document.getElementById('confirmar-contrasena').value;
      if (!actual || !nueva || !confirmar) {
        alert("Por favor completa todos los campos.");
        return;
      }
      if (nueva !== confirmar) {
        alert("Las nuevas contrase√±as no coinciden.");
        return;
      }
      alert("Contrase√±a cambiada exitosamente.");
    }
    function togglePassword(id) {
  const input = document.getElementById(id);
  input.type = input.type === 'password' ? 'text' : 'password';
}
function abrirModalFoto() {
  const modal = document.getElementById("modalFoto");
  if (modal) modal.classList.add("show");
}

function cerrarModalFoto() {
  const modal = document.getElementById("modalFoto");
  if (modal) modal.classList.remove("show");
}

function subirFoto() {
  alert("Funcionalidad para subir nueva foto (input file)");
  cerrarModalFoto();
}

function eliminarFoto() {
  alert("Foto eliminada");
  cerrarModalFoto();
}
function cambiarContrasena() {
  let error = false;

  // Campos
  const actual = document.getElementById('contrasena-actual');
  const nueva = document.getElementById('nueva-contrasena');
  const confirmar = document.getElementById('confirmar-contrasena');
  const errorMatch = document.getElementById('error-match');

  // Reiniciar estilos
  [actual, nueva, confirmar].forEach(input => input.classList.remove('error'));
  errorMatch.style.display = 'none';

  // Validar campos vac√≠os
  if (!actual.value.trim()) {
    actual.classList.add('error');
    error = true;
  }
  if (!nueva.value.trim()) {
    nueva.classList.add('error');
    error = true;
  }
  if (!confirmar.value.trim()) {
    confirmar.classList.add('error');
    error = true;
  }

  // Validar coincidencia
  if (nueva.value && confirmar.value && nueva.value !== confirmar.value) {
    nueva.classList.add('error');
    confirmar.classList.add('error');
    errorMatch.style.display = 'block';
    error = true;
  }

  if (error) return;

  mostrarModalConfirmacion('contrasena');
}
['contrasena-actual', 'nueva-contrasena', 'confirmar-contrasena'].forEach(id => {
  const input = document.getElementById(id);
  input.addEventListener('input', () => {
    input.classList.remove('error');
    document.getElementById('error-match').style.display = 'none';
  });
});
function mostrarModalConfirmacion(origen = 'default') {
  const modal = document.getElementById("modalConfirmacion");
  const titulo = document.getElementById("modalConfirmacionTitulo");
  const mensaje = document.getElementById("modalConfirmacionTexto");

  if (!modal) return;

  if (origen === 'datos') {
    titulo.textContent = "‚úÖ Datos actualizados";
    mensaje.textContent = "Tu informaci√≥n fue guardada correctamente.";
  } else if (origen === 'contrasena') {
    titulo.textContent = "‚úÖ Contrase√±a actualizada";
    mensaje.textContent = "Tu nueva contrase√±a ha sido guardada correctamente.";
  } else {
    titulo.textContent = "‚úÖ Confirmaci√≥n";
    mensaje.textContent = "La acci√≥n se ha realizado correctamente.";
  }

  modal.classList.add("show");
}

function cerrarModalConfirmacion() {
  const modal = document.getElementById("modalConfirmacion");
  if (modal) modal.classList.remove("show");
}

function abrirModalCancelar() {
  document.getElementById("modalCancelarSuscripcion").classList.add("show");
}

function cerrarModalCancelar() {
  document.getElementById("modalCancelarSuscripcion").classList.remove("show");
}

function confirmarCancelarSuscripcion() {
  // Aqu√≠ va la l√≥gica real
  alert("Tu suscripci√≥n ha sido cancelada."); // Simulaci√≥n
  cerrarModalCancelar();
}

  function abrirModalMetodoPago() {
    document.getElementById("modalMetodoPago").style.display = "flex";
  }

  function cerrarModalMetodoPago() {
    document.getElementById("modalMetodoPago").style.display = "none";
  }

  function guardarMetodoPago() {
    // Aqu√≠ ir√≠a validaci√≥n o integraci√≥n con pasarela
    const tipo = document.getElementById("nuevo-tipo").value;
    const numero = document.getElementById("nuevo-numero").value;

    alert(`M√©todo actualizado: ${tipo.toUpperCase()} terminada en ${numero.slice(-4)}`);
    cerrarModalMetodoPago();

    // Tambi√©n podr√≠as actualizar visualmente el texto dentro de la pesta√±a pago:
    // document.querySelector("#pago .seccion-suscripcion p:nth-child(5)").innerHTML = `<strong>M√©todo de pago:</strong> ${tipo} **** ${numero.slice(-4)}`;
  }
  </script>
</body>
</html>
