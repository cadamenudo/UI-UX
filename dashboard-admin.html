<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Admin Dashboard – Cada Menudo (Demo + Mobile + Fix Charts)</title>

<link rel="stylesheet" href="https://cadamenudo.github.io/UI-UX/css-fonts.css"/>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
  :root{
    --primary:#3956E8; --secondary:#7459D9; --accent:#E8C239;
    --bg:#ffffff; --text:#0f172a; --muted:#64748B; --border:#e5e7eb;
    --soft:#f5f7ff; --shadow:0 4px 14px rgba(15,23,42,.08);
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:"Greycliff CF",system-ui,-apple-system,Segoe UI,sans-serif;background:var(--bg);color:var(--text);}

  /* Header */
  header{
    background:var(--primary);color:white;padding:1rem 1.25rem;
    display:flex;gap:.75rem;justify-content:space-between;align-items:center;
    box-shadow:0 4px 10px rgba(0,0,0,.1); position:sticky; top:0; z-index:30;
  }
  header h1{font-size:1.1rem;margin:0}
  .top-actions{display:flex;gap:.75rem;align-items:center;}
  .pill{background:rgba(255,255,255,.12); padding:.4rem .7rem; border-radius:999px; font-size:.85rem}
  /* Botón hamburguesa (oculto en desktop, visible en mobile) */
  #menuBtn{
    display:none; background:none; border:none; color:#fff; font-size:1.5rem; line-height:1; cursor:pointer;
  }

  /* Layout base */
  .container{display:grid;grid-template-columns:260px 1fr; min-height:100vh;}
  aside{
    background:#f9faff;border-right:1px solid var(--border);
    padding:1rem;display:flex;flex-direction:column;gap:1rem; position:sticky; top:64px; height:calc(100vh - 64px);
  }
  aside h2{font-size:.8rem;color:var(--muted);text-transform:uppercase;margin:.25rem 0 .5rem}
  aside button{
    background:none;border:none;text-align:left;
    padding:.6rem .9rem;border-radius:10px;cursor:pointer;
    color:var(--text);font-size:.95rem;
  }
  aside button.active, aside button:hover{background:var(--primary);color:white;}

  main{padding:1.25rem 1.5rem;overflow-y:auto; -webkit-overflow-scrolling:touch;}

  .filters{
    display:flex;gap:.75rem;align-items:center;margin:0 0 1rem 0; flex-wrap:wrap;
  }
  .filters .chip{
    border:1px solid var(--border); background:var(--soft); color:#202636; padding:.45rem .7rem; border-radius:999px; font-size:.85rem; cursor:pointer;
  }
  .filters .chip.active{border-color:var(--primary)}

  section.dashboard-grid{
    display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));
    gap:1.2rem;
  }
  .card{
    background:white;padding:1rem;border-radius:12px;box-shadow:var(--shadow);
  }
  .card h3{margin:.2rem 0 .6rem;color:#1d2450;font-size:1rem}
  .kpis{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:.8rem; margin-bottom:1rem}
  .kpi{background:#fff;border:1px solid var(--border); border-radius:12px; padding:.9rem}
  .kpi .label{font-size:.8rem;color:var(--muted)}
  .kpi .value{font-weight:700;font-size:1.15rem;margin-top:.2rem}

  /* ⚠️ FIX: contenedor con altura fija para gráficos (evita crecimiento infinito) */
  .chart-box{
    position: relative;
    width: 100%;
    height: 260px;        /* ajusta 220–320px si deseas */
    overflow: hidden;
  }
  .chart-box > canvas{
    width: 100% !important;
    height: 100% !important;
  }

  /* Tablas */
  table{width:100%; border-collapse:collapse; font-size:.92rem}
  th, td{padding:.6rem .5rem; border-bottom:1px solid #eef0f4; text-align:left;}
  th{color:#4b5563; font-weight:600; background:#fafbff}

  /* Overlay para mobile (tapar fondo cuando sidebar abierto) */
  #overlay{
    position:fixed; inset:0; background:rgba(3,10,28,.35); backdrop-filter:saturate(120%) blur(2px);
    display:none; z-index:25;
  }
  #overlay.show{display:block;}

  /* Hot zone para swipe (borde izquierdo) */
  #edgeZone{
    position:fixed; inset:0 auto 0 0; width:22px; height:100vh;
    z-index:24; display:none; /* invisible */
  }

  /* --------- Responsive Mobile --------- */
  @media (max-width: 800px){
    #menuBtn{display:inline-block;}
    .container{grid-template-columns:1fr;} /* Sidebar off-canvas */
    aside{
      position:fixed; left:-280px; top:64px; bottom:0; width:260px;
      height:auto; box-shadow:0 12px 30px rgba(15,23,42,.18); z-index:26;
      transition:left .28s ease;
    }
    aside.open{left:0;}
    main{padding:1rem;}
    header h1{font-size:1rem;}
    .filters{gap:.45rem;}
    .kpi .value{font-size:1rem;}
    section.dashboard-grid{grid-template-columns:1fr;} /* una columna */
    .card{padding:.9rem;}
    #edgeZone{display:block;}
  }

  /* Aún más compacto */
  @media (max-width: 380px){
    header{padding:.8rem 1rem;}
    .pill{display:none;}
    .kpi{padding:.7rem;}
    .kpi .label{font-size:.75rem;}
  }

  .sr-only{position:absolute;clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;width:1px;overflow:hidden;white-space:nowrap;border:0;padding:0;margin:-1px;}
</style>
</head>

<body>
  <header>
    <button id="menuBtn" aria-label="Abrir menú">☰</button>
    <h1>📊 Panel Administrativo – Cada Menudo</h1>
    <div class="top-actions">
      <span class="pill">👤 Admin</span>
      <span class="pill">⚙️ Configuración</span>
    </div>
  </header>

  <!-- Overlay (mobile) -->
  <div id="overlay" aria-hidden="true"></div>
  <!-- Hot zone para swipe desde el borde izquierdo -->
  <div id="edgeZone" aria-hidden="true"></div>

  <div class="container">
    <aside aria-label="Menú lateral">
      <div>
        <h2>Secciones</h2>
        <button class="active" onclick="mostrar('overview', this)">🏠 Resumen General</button>
        <button onclick="mostrar('usuarios', this)">👥 Usuarios</button>
        <button onclick="mostrar('tickets', this)">💬 Soporte</button>
        <button onclick="mostrar('marketing', this)">📈 Marketing</button>
        <button onclick="mostrar('finanzas', this)">💰 Finanzas</button>
        <button onclick="mostrar('analytics', this)">📊 Data Insights</button>
        <button onclick="mostrar('config', this)">⚙️ Configuración</button>
      </div>
    </aside>

    <main>
      <!
